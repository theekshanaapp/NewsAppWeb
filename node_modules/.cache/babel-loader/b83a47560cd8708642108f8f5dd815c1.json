{"remainingRequest":"/home/theekshana/Documents/My Business/newProject/1/newsApp/node_modules/babel-loader/lib/index.js!/home/theekshana/Documents/My Business/newProject/1/newsApp/node_modules/eslint-loader/index.js??ref--13-0!/home/theekshana/Documents/My Business/newProject/1/newsApp/src/store/modules/auth.js","dependencies":[{"path":"/home/theekshana/Documents/My Business/newProject/1/newsApp/src/store/modules/auth.js","mtime":1620830872468},{"path":"/home/theekshana/Documents/My Business/newProject/1/newsApp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/theekshana/Documents/My Business/newProject/1/newsApp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/theekshana/Documents/My Business/newProject/1/newsApp/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBBdXRoZW50aWNhdGlvblNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlcy9BdXRoZW50aWNhdGlvblNlcnZpY2UnOwp2YXIgc3RhdGUgPSB7CiAgdXJsOiBwcm9jZXNzLmVudi5WVUVfQVBQX1VSTCwKICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykgfHwgbnVsbCwKICB1c2VyOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpIHx8IG51bGwsCiAgaXNVc2VyTG9nZ2VkSW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpIHx8IGZhbHNlCn07CnZhciBnZXR0ZXJzID0gewogIGdldFVybDogZnVuY3Rpb24gZ2V0VXJsKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUudXJsOwogIH0sCiAgaXNBdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5pc1VzZXJMb2dnZWRJbjsKICB9LAogIGdldFRva2VuOiBmdW5jdGlvbiBnZXRUb2tlbihzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnRva2VuOwogIH0sCiAgY3VycmVudFVzZXI6IGZ1bmN0aW9uIGN1cnJlbnRVc2VyKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUudXNlcjsKICB9Cn07CnZhciBtdXRhdGlvbnMgPSB7CiAgU0VUX1RPS0VOOiBmdW5jdGlvbiBTRVRfVE9LRU4oc3RhdGUsIHRva2VuKSB7CiAgICBzdGF0ZS50b2tlbiA9IHRva2VuOwoKICAgIGlmICh0b2tlbikgewogICAgICBzdGF0ZS5pc1VzZXJMb2dnZWRJbiA9IHRydWU7CiAgICB9IGVsc2UgewogICAgICBzdGF0ZS5pc1VzZXJMb2dnZWRJbiA9IGZhbHNlOwogICAgfQogIH0sCiAgU0VUX1VTRVJfREFUQTogZnVuY3Rpb24gU0VUX1VTRVJfREFUQShzdGF0ZSwgZGF0YSkgewogICAgc3RhdGUudXNlciA9IGRhdGE7CiAgfSwKICBDTEVBUl9BVVRIOiBmdW5jdGlvbiBDTEVBUl9BVVRIKHN0YXRlKSB7CiAgICBzdGF0ZS50b2tlbiA9IG51bGw7CiAgICBzdGF0ZS51c2VyID0gbnVsbDsKICAgIHN0YXRlLmlzVXNlckxvZ2dlZEluID0gZmFsc2U7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBzaWduSW46IGZ1bmN0aW9uIHNpZ25JbihfcmVmLCBjcmVkZW50aWFscykgewogICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgQXV0aGVudGljYXRpb25TZXJ2aWNlLnNpZ25JbihjcmVkZW50aWFscykudGhlbihmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYyLmRhdGE7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgZGF0YS50b2tlbik7CiAgICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCBkYXRhLnRva2VuKTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgIGVtYWlsOiBkYXRhLmVtYWlsLAogICAgICAgICAgZmlyc3RfbmFtZTogZGF0YS5maXJzdF9uYW1lLAogICAgICAgICAgcGhvdG9Vcmw6IGRhdGEuaW1hZ2UKICAgICAgICB9KSk7CiAgICAgICAgY29tbWl0KCdTRVRfVVNFUl9EQVRBJywgewogICAgICAgICAgZW1haWw6IGRhdGEuZW1haWwsCiAgICAgICAgICBmaXJzdF9uYW1lOiBkYXRhLmZpcnN0X25hbWUsCiAgICAgICAgICBwaG90b1VybDogZGF0YS5pbWFnZQogICAgICAgIH0pOwogICAgICAgIHJlc29sdmUoZGF0YSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBzaWduT3V0OiBmdW5jdGlvbiBzaWduT3V0KF9yZWYzKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcicpOwogICAgY29tbWl0KCdDTEVBUl9BVVRIJyk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHN0YXRlLAogIGdldHRlcnM6IGdldHRlcnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucwp9Ow=="},{"version":3,"sources":["/home/theekshana/Documents/My Business/newProject/1/newsApp/src/store/modules/auth.js"],"names":["AuthenticationService","state","url","process","env","VUE_APP_URL","token","localStorage","getItem","user","JSON","parse","isUserLoggedIn","getters","getUrl","isAuthenticated","getToken","currentUser","mutations","SET_TOKEN","SET_USER_DATA","data","CLEAR_AUTH","actions","signIn","credentials","commit","Promise","resolve","reject","then","setItem","stringify","email","first_name","photoUrl","image","catch","err","signOut","removeItem"],"mappings":";AAAA,OAAOA,qBAAP,MAAkC,kCAAlC;AAEA,IAAMC,KAAK,GAAG;AACZC,EAAAA,GAAG,EAAEC,OAAO,CAACC,GAAR,CAAYC,WADL;AAEZC,EAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC,IAF5B;AAGZC,EAAAA,IAAI,EAAEC,IAAI,CAACC,KAAL,CAAWJ,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,KAA4C,IAHtC;AAIZI,EAAAA,cAAc,EAAEL,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC;AAJrC,CAAd;AAOA,IAAMK,OAAO,GAAG;AACdC,EAAAA,MAAM,EAAE,gBAACb,KAAD,EAAW;AACjB,WAAOA,KAAK,CAACC,GAAb;AACD,GAHa;AAIda,EAAAA,eAAe,EAAE,yBAACd,KAAD,EAAW;AAC1B,WAAOA,KAAK,CAACW,cAAb;AACD,GANa;AAOdI,EAAAA,QAAQ,EAAE,kBAACf,KAAD,EAAW;AACnB,WAAOA,KAAK,CAACK,KAAb;AACD,GATa;AAUdW,EAAAA,WAAW,EAAE,qBAAChB,KAAD,EAAW;AACtB,WAAOA,KAAK,CAACQ,IAAb;AACD;AAZa,CAAhB;AAeA,IAAMS,SAAS,GAAG;AAChBC,EAAAA,SADgB,qBACNlB,KADM,EACCK,KADD,EACQ;AACtBL,IAAAA,KAAK,CAACK,KAAN,GAAcA,KAAd;;AACA,QAAIA,KAAJ,EAAW;AACTL,MAAAA,KAAK,CAACW,cAAN,GAAuB,IAAvB;AACD,KAFD,MAEO;AACLX,MAAAA,KAAK,CAACW,cAAN,GAAuB,KAAvB;AACD;AACF,GARe;AAShBQ,EAAAA,aATgB,yBASFnB,KATE,EASKoB,IATL,EASW;AACzBpB,IAAAA,KAAK,CAACQ,IAAN,GAAaY,IAAb;AACD,GAXe;AAYhBC,EAAAA,UAZgB,sBAYLrB,KAZK,EAYE;AAChBA,IAAAA,KAAK,CAACK,KAAN,GAAc,IAAd;AACAL,IAAAA,KAAK,CAACQ,IAAN,GAAa,IAAb;AACAR,IAAAA,KAAK,CAACW,cAAN,GAAuB,KAAvB;AACD;AAhBe,CAAlB;AAmBA,IAAMW,OAAO,GAAG;AACdC,EAAAA,MADc,wBACKC,WADL,EACkB;AAAA,QAAvBC,MAAuB,QAAvBA,MAAuB;AAC9B,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC7B,MAAAA,qBAAqB,CAACwB,MAAtB,CAA6BC,WAA7B,EACGK,IADH,CACQ,iBAAc;AAAA,YAAXT,IAAW,SAAXA,IAAW;AAClBd,QAAAA,YAAY,CAACwB,OAAb,CAAqB,OAArB,EAA8BV,IAAI,CAACf,KAAnC;AACAoB,QAAAA,MAAM,CAAC,WAAD,EAAcL,IAAI,CAACf,KAAnB,CAAN;AACAC,QAAAA,YAAY,CAACwB,OAAb,CAAqB,MAArB,EAA6BrB,IAAI,CAACsB,SAAL,CAAe;AAACC,UAAAA,KAAK,EAAGZ,IAAI,CAACY,KAAd;AAAqBC,UAAAA,UAAU,EAAEb,IAAI,CAACa,UAAtC;AAAiDC,UAAAA,QAAQ,EAAEd,IAAI,CAACe;AAAhE,SAAf,CAA7B;AACAV,QAAAA,MAAM,CAAC,eAAD,EAAkB;AAACO,UAAAA,KAAK,EAAGZ,IAAI,CAACY,KAAd;AAAqBC,UAAAA,UAAU,EAAEb,IAAI,CAACa,UAAtC;AAAmDC,UAAAA,QAAQ,EAAEd,IAAI,CAACe;AAAlE,SAAlB,CAAN;AACAR,QAAAA,OAAO,CAACP,IAAD,CAAP;AACD,OAPH,EAQGgB,KARH,CAQS,UAACC,GAAD;AAAA,eAAST,MAAM,CAACS,GAAD,CAAf;AAAA,OART;AASD,KAVM,CAAP;AAWD,GAba;AAcdC,EAAAA,OAdc,0BAcM;AAAA,QAAVb,MAAU,SAAVA,MAAU;AAClBnB,IAAAA,YAAY,CAACiC,UAAb,CAAwB,OAAxB;AACAjC,IAAAA,YAAY,CAACiC,UAAb,CAAwB,MAAxB;AACAd,IAAAA,MAAM,CAAC,YAAD,CAAN;AACD;AAlBa,CAAhB;AAqBA,eAAe;AACbzB,EAAAA,KAAK,EAALA,KADa;AAEbY,EAAAA,OAAO,EAAPA,OAFa;AAGbK,EAAAA,SAAS,EAATA,SAHa;AAIbK,EAAAA,OAAO,EAAPA;AAJa,CAAf","sourcesContent":["import AuthenticationService from '@/services/AuthenticationService'\n\nconst state = {\n  url: process.env.VUE_APP_URL,\n  token: localStorage.getItem('token') || null,\n  user: JSON.parse(localStorage.getItem('user')) || null,\n  isUserLoggedIn: localStorage.getItem('token') || false\n}\n\nconst getters = {\n  getUrl: (state) => {\n    return state.url\n  },\n  isAuthenticated: (state) => {\n    return state.isUserLoggedIn\n  },\n  getToken: (state) => {\n    return state.token\n  },\n  currentUser: (state) => {\n    return state.user\n  }\n}\n\nconst mutations = {\n  SET_TOKEN(state, token) {\n    state.token = token\n    if (token) {\n      state.isUserLoggedIn = true\n    } else {\n      state.isUserLoggedIn = false\n    }\n  },\n  SET_USER_DATA(state, data) {\n    state.user = data\n  },\n  CLEAR_AUTH(state) {\n    state.token = null\n    state.user = null\n    state.isUserLoggedIn = false\n  }\n}\n\nconst actions = {\n  signIn({ commit }, credentials) {\n    return new Promise((resolve, reject) => {\n      AuthenticationService.signIn(credentials)\n        .then(({ data }) => {\n          localStorage.setItem('token', data.token)\n          commit('SET_TOKEN', data.token)\n          localStorage.setItem('user', JSON.stringify({email : data.email, first_name: data.first_name,photoUrl: data.image}))\n          commit('SET_USER_DATA', {email : data.email, first_name: data.first_name , photoUrl: data.image})\n          resolve(data)\n        })\n        .catch((err) => reject(err))\n    })\n  },\n  signOut({ commit }) {\n    localStorage.removeItem('token')\n    localStorage.removeItem('user')\n    commit('CLEAR_AUTH')\n  }\n}\n\nexport default {\n  state,\n  getters,\n  mutations,\n  actions\n}\n"]}]}