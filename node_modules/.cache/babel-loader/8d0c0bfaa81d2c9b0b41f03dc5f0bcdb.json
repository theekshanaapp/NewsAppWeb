{"remainingRequest":"/home/theekshana/Documents/My Business/newProject/1/newsApp/node_modules/thread-loader/dist/cjs.js!/home/theekshana/Documents/My Business/newProject/1/newsApp/node_modules/babel-loader/lib/index.js!/home/theekshana/Documents/My Business/newProject/1/newsApp/node_modules/eslint-loader/index.js??ref--13-0!/home/theekshana/Documents/My Business/newProject/1/newsApp/src/services/Api.js","dependencies":[{"path":"/home/theekshana/Documents/My Business/newProject/1/newsApp/src/services/Api.js","mtime":1620842921218},{"path":"/home/theekshana/Documents/My Business/newProject/1/newsApp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/theekshana/Documents/My Business/newProject/1/newsApp/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/theekshana/Documents/My Business/newProject/1/newsApp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/theekshana/Documents/My Business/newProject/1/newsApp/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiAoKSB7CiAgdmFyIGF4aW9zSW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoewogICAgYmFzZVVSTDogImh0dHA6Ly9wYi1iYWNrZW5kLWxiLTMwZTNiN2EyZmUwNGFiOWMuZWxiLmV1LXdlc3QtMy5hbWF6b25hd3MuY29tL3YxIgogIH0pOwogIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwoKICBpZiAodG9rZW4pIHsKICAgIGF4aW9zSW5zdGFuY2UuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICJCZWFyZXIgIi5jb25jYXQodG9rZW4pOwogIH0KCiAgYXhpb3NJbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgcmV0dXJuIHJlc3BvbnNlOwogIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpOwogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcicpOwogICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgIH0KCiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogIH0pOwogIHJldHVybiBheGlvc0luc3RhbmNlOwp9KTs="},{"version":3,"sources":["/home/theekshana/Documents/My Business/newProject/1/newsApp/src/services/Api.js"],"names":["axios","axiosInstance","create","baseURL","token","localStorage","getItem","defaults","headers","common","Authorization","interceptors","response","use","error","status","removeItem","location","reload","Promise","reject"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,gBAAe,YAAM;AACnB,MAAMC,aAAa,GAAGD,KAAK,CAACE,MAAN,CAAa;AACjCC,IAAAA,OAAO;AAD0B,GAAb,CAAtB;AAIA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;;AACA,MAAIF,KAAJ,EAAW;AACTH,IAAAA,aAAa,CAACM,QAAd,CAAuBC,OAAvB,CAA+BC,MAA/B,CAAsCC,aAAtC,oBAAgEN,KAAhE;AACD;;AAEDH,EAAAA,aAAa,CAACU,YAAd,CAA2BC,QAA3B,CAAoCC,GAApC,CACE,UAACD,QAAD;AAAA,WAAcA,QAAd;AAAA,GADF,EAEE,UAACE,KAAD,EAAW;AACT,QAAIA,KAAK,CAACF,QAAN,CAAeG,MAAf,KAA0B,GAA9B,EAAmC;AACjCV,MAAAA,YAAY,CAACW,UAAb,CAAwB,OAAxB;AACAX,MAAAA,YAAY,CAACW,UAAb,CAAwB,MAAxB;AACAC,MAAAA,QAAQ,CAACC,MAAT;AACD;;AACD,WAAOC,OAAO,CAACC,MAAR,CAAeN,KAAf,CAAP;AACD,GATH;AAYA,SAAOb,aAAP;AACD,CAvBD","sourcesContent":["import axios from 'axios'\n\nexport default () => {\n  const axiosInstance = axios.create({\n    baseURL: `http://pb-backend-lb-30e3b7a2fe04ab9c.elb.eu-west-3.amazonaws.com/v1`\n  })\n\n  const token = localStorage.getItem('token')\n  if (token) {\n    axiosInstance.defaults.headers.common.Authorization = `Bearer ${token}`\n  }\n\n  axiosInstance.interceptors.response.use(\n    (response) => response,\n    (error) => {\n      if (error.response.status === 401) {\n        localStorage.removeItem('token')\n        localStorage.removeItem('user')\n        location.reload()\n      }\n      return Promise.reject(error)\n    }\n  )\n\n  return axiosInstance\n}\n"]}]}